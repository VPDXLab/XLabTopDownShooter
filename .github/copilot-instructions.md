# –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è GitHub Copilot

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

–≠—Ç–æ Unity –ø—Ä–æ–µ–∫—Ç **XLab Top-Down Shooter** - –∏–≥—Ä–∞ —Å –∏–∑–æ–º–µ—Ç—Ä–∏—á–µ—Å–∫–æ–π –∫–∞–º–µ—Ä–æ–π –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º –≤ —Å—Ç–∏–ª–µ MOBA/RTS.

### –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

- **–û—Å–Ω–æ–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** `README.md` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞
- **–≠—Ç–∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏:** `.github/copilot-instructions.md`

### –ö–ª—é—á–µ–≤—ã–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏

```
Assets/
‚îú‚îÄ‚îÄ Scripts/          # –í–µ—Å—å –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ C#
‚îÇ   ‚îú‚îÄ‚îÄ Players/     # –°–∏—Å—Ç–µ–º–∞ –∏–≥—Ä–æ–∫–∞ (–¥–≤–∏–∂–µ–Ω–∏–µ, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ, –∫–æ–Ω—Ñ–∏–≥)
‚îÇ   ‚îú‚îÄ‚îÄ Cameras/     # –°–∏—Å—Ç–µ–º–∞ –∫–∞–º–µ—Ä—ã (CameraFollow)
‚îÇ   ‚îî‚îÄ‚îÄ Markers/     # –í–∏–∑—É–∞–ª—å–Ω—ã–µ –º–∞—Ä–∫–µ—Ä—ã (TargetMarker, Observer)
‚îú‚îÄ‚îÄ Data/            # ScriptableObjects —Å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π (PlayerConfig.asset)
‚îú‚îÄ‚îÄ Prefabs/         # –ü—Ä–µ—Ñ–∞–±—ã –∏–≥—Ä–æ–≤—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤
‚îú‚îÄ‚îÄ _Scenes/         # –ò–≥—Ä–æ–≤—ã–µ —Å—Ü–µ–Ω—ã
‚îú‚îÄ‚îÄ Art/             # –ì—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–µ —Ä–µ—Å—É—Ä—Å—ã
‚îî‚îÄ‚îÄ Settings/        # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞ Unity
```

## üéØ –°–æ–≥–ª–∞—à–µ–Ω–∏—è –æ –∫–æ–¥–µ

### –°—Ç–∏–ª—å –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è

1. **Naming Conventions:**
   - Private –ø–æ–ª—è: `m_fieldName` (–ø—Ä–µ—Ñ–∏–∫—Å m_)
   - Public —Å–≤–æ–π—Å—Ç–≤–∞: `propertyName` (camelCase)
   - –ú–µ—Ç–æ–¥—ã: `MethodName` (PascalCase)
   - –ö–ª–∞—Å—Å—ã: `ClassName` (PascalCase)
   - Namespace: —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å –ø—É—Ç–µ–º –ø–∞–ø–∫–∏ (Players, Cameras, Markers)

2. **Namespaces:**
   - –ö–∞–∂–¥–∞—è –ø–∞–ø–∫–∞ = –æ—Ç–¥–µ–ª—å–Ω—ã–π namespace
   - `namespace Players { }` –¥–ª—è Scripts/Players/
   - `namespace Cameras { }` –¥–ª—è Scripts/Cameras/
   - `namespace Markers { }` –¥–ª—è Scripts/Markers/

3. **Serialization:**
   - –ò—Å–ø–æ–ª—å–∑—É–π `[SerializeField]` –¥–ª—è private –ø–æ–ª–µ–π
   - –î–æ–±–∞–≤–ª—è–π –∞—Ç—Ä–∏–±—É—Ç—ã –≤–∞–ª–∏–¥–∞—Ü–∏–∏: `[Min(0)]`, `[Range(0, 100)]`
   - –ò—Å–ø–æ–ª—å–∑—É–π `[Header("Section")]` –¥–ª—è –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏ –≤ Inspector

4. **Components:**
   - –ò—Å–ø–æ–ª—å–∑—É–π `[RequireComponent(typeof(T))]` –¥–ª—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
   - –†–µ–∞–ª–∏–∑—É–π `OnValidate()` –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–æ–∏—Å–∫–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã

1. **Event-Driven:**
   - –ò—Å–ø–æ–ª—å–∑—É–π C# events –¥–ª—è —Å–≤—è–∑–∏ –º–µ–∂–¥—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏
   - –ü–∞—Ç—Ç–µ—Ä–Ω Observer –¥–ª—è —Ä–µ–∞–∫—Ü–∏–∏ –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è
   - –ü—Ä–∏–º–µ—Ä: `PlayerMovement.Stopped`, `DestinationChanged`

2. **ScriptableObject Configuration:**
   - –í—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤—ã–Ω–æ—Å—è—Ç—Å—è –≤ ScriptableObject
   - –•—Ä–∞–Ω—è—Ç—Å—è –≤ –ø–∞–ø–∫–µ `Assets/Data/`
   - –ü—Ä–∏–º–µ—Ä: `PlayerConfig.asset`

3. **Composition:**
   - –ü—Ä–µ–¥–ø–æ—á–∏—Ç–∞–π –∫–æ–º–ø–æ–∑–∏—Ü–∏—é –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—é
   - –û–¥–∏–Ω –∫–ª–∞—Å—Å = –æ–¥–Ω–∞ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å
   - –í—ã–¥–µ–ª—è–π —Å–ª–æ–∂–Ω—É—é –ª–æ–≥–∏–∫—É –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –∫–ª–∞—Å—Å—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, `PlayerRotationCalculator`)

4. **Initialization Pattern:**
   - –ü—É–±–ª–∏—á–Ω—ã–π –º–µ—Ç–æ–¥ `Initialize()` –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
   - –í—ã–∑—ã–≤–∞–µ—Ç—Å—è –∏–∑ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞ –≤ `Start()`
   - –ü–æ–∑–≤–æ–ª—è–µ—Ç –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —è–≤–Ω–æ

## üõ†Ô∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

### Unity Systems

- **Input System:** –ù–æ–≤–∞—è Input System (`UnityEngine.InputSystem`)
  - –ò—Å–ø–æ–ª—å–∑—É–π `Mouse.current.position.ReadValue()`
  - –ü—Ä–æ–≤–µ—Ä—è–π –∫–Ω–æ–ø–∫–∏: `Mouse.current.rightButton.wasPressedThisFrame`

- **Navigation:** Unity NavMesh
  - –û—Ç–∫–ª—é—á–∞–π `updateRotation` –¥–ª—è —Ä—É—á–Ω–æ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª—è –ø–æ–≤–æ—Ä–æ—Ç–∞
  - –ò—Å–ø–æ–ª—å–∑—É–π `NavMeshAgent.SetDestination()`
  - –ü—Ä–æ–≤–µ—Ä—è–π `remainingDistance` –∏ `hasPath`

- **Animation:** DOTween
  - –î–ª—è –ø–ª–∞–≤–Ω—ã—Ö –∞–Ω–∏–º–∞—Ü–∏–π UI –∏ –æ–±—ä–µ–∫—Ç–æ–≤
  - –ù–µ –∑–∞–±—ã–≤–∞–π –≤—ã–∑—ã–≤–∞—Ç—å `Kill()` –ø–µ—Ä–µ–¥ –Ω–æ–≤—ã–º–∏ tweens
  - –ü—Ä–∏–º–µ—Ä: `transform.DOScale().SetEase().SetLoops()`

### –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

- Unity 2021.3+
- Input System package
- AI Navigation (NavMesh)
- DOTween (—Å—Ç–æ—Ä–æ–Ω–Ω–∏–π asset)

## üí° –ü—Ä–∞–≤–∏–ª–∞ –ø—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–æ–¥–∞

### –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –Ω–æ–≤–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –∏–≥—Ä–æ–∫–∞:

1. –°–æ–∑–¥–∞–≤–∞–π –≤ –ø–∞–ø–∫–µ `Assets/Scripts/Players/`
2. –ò—Å–ø–æ–ª—å–∑—É–π namespace `Players`
3. –°–ª–µ–¥—É–π –ø–∞—Ç—Ç–µ—Ä–Ω—É –∏–º–µ–Ω–æ–≤–∞–Ω–∏—è –ø–æ–ª–µ–π `m_fieldName`
4. –î–æ–±–∞–≤—å `OnValidate()` –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–æ–∏—Å–∫–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
5. –†–µ–∞–ª–∏–∑—É–π `Initialize()` –º–µ—Ç–æ–¥ –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
6. –ò—Å–ø–æ–ª—å–∑—É–π —Å–æ–±—ã—Ç–∏—è –¥–ª—è —Å–≤—è–∑–∏ —Å –¥—Ä—É–≥–∏–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏

### –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ ScriptableObject:

1. –°–æ–∑–¥–∞–≤–∞–π –≤ –ø–∞–ø–∫–µ `Assets/Scripts/` (–∫–æ–¥) –∏ `Assets/Data/` (asset)
2. –î–æ–±–∞–≤—å –∞—Ç—Ä–∏–±—É—Ç `[CreateAssetMenu(fileName = "...", menuName = "...")]`
3. –ò—Å–ø–æ–ª—å–∑—É–π —Å–≤–æ–π—Å—Ç–≤–∞ —Ç–æ–ª—å–∫–æ –¥–ª—è —á—Ç–µ–Ω–∏—è (get-only properties)
4. –î–æ–±–∞–≤—å –≤–∞–ª–∏–¥–∞—Ü–∏—é —á–µ—Ä–µ–∑ –∞—Ç—Ä–∏–±—É—Ç—ã `[Range]`, `[Min]`

### –ü—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –∫–∞–º–µ—Ä–æ–π:

1. –ò—Å–ø–æ–ª—å–∑—É–π `LateUpdate()` –¥–ª—è –ª–æ–≥–∏–∫–∏ –∫–∞–º–µ—Ä—ã
2. –í—Å–µ–≥–¥–∞ –ø—Ä–æ–≤–µ—Ä—è–π –Ω–∞–ª–∏—á–∏–µ —Ü–µ–ª–∏ –ø–µ—Ä–µ–¥ –¥–æ—Å—Ç—É–ø–æ–º
3. –ò—Å–ø–æ–ª—å–∑—É–π `Vector3.SmoothDamp` –¥–ª—è –ø–ª–∞–≤–Ω–æ–≥–æ –¥–≤–∏–∂–µ–Ω–∏—è
4. –ü–æ–º–Ω–∏ –ø—Ä–æ –∏–∑–æ–º–µ—Ç—Ä–∏—á–µ—Å–∫—É—é –ø—Ä–æ–µ–∫—Ü–∏—é –ø—Ä–∏ —Ä–∞—Å—á–µ—Ç–∞—Ö

### –ü—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å NavMesh:

1. –í—Å–µ–≥–¥–∞ –ø—Ä–æ–≤–µ—Ä—è–π `pathPending` –ø–µ—Ä–µ–¥ –¥–æ—Å—Ç—É–ø–æ–º –∫ –ø—É—Ç–∏
2. –ò—Å–ø–æ–ª—å–∑—É–π `NavMesh.SamplePosition()` –¥–ª—è –ø–æ–∏—Å–∫–∞ –±–ª–∏–∂–∞–π—à–µ–π —Ç–æ—á–∫–∏
3. –ü—Ä–æ–≤–µ—Ä—è–π `sqrMagnitude` –≤–º–µ—Å—Ç–æ `magnitude` –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
4. –û–±–Ω—É–ª—è–π Y –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã—Ö –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–π

## ‚ö†Ô∏è –†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏

1. **–ù–µ –∑–∞–±—ã–≤–∞–π –æ—Ç–ø–∏—Å—ã–≤–∞—Ç—å—Å—è –æ—Ç —Å–æ–±—ã—Ç–∏–π:**
   ```csharp
   void OnEnable() => player.Stopped += Handler;
   void OnDisable() => player.Stopped -= Handler;
   ```

2. **–ü—Ä–æ–≤–µ—Ä—è–π null –ø–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º:**
   ```csharp
   if (!m_camera) return;
   ```

3. **–ò—Å–ø–æ–ª—å–∑—É–π sqrMagnitude –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –¥–∏—Å—Ç–∞–Ω—Ü–∏–π:**
   ```csharp
   if (direction.sqrMagnitude < 0.0001f) return;
   ```

4. **–û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–π tweens –ø–µ—Ä–µ–¥ —Å–æ–∑–¥–∞–Ω–∏–µ–º –Ω–æ–≤—ã—Ö:**
   ```csharp
   _tween?.Kill();
   _tween = transform.DOScale(...);
   ```

## üìö –°—Å—ã–ª–∫–∏ –Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é

- –û—Å–Ω–æ–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞: `README.md`
- Unity Input System: https://docs.unity3d.com/Packages/com.unity.inputsystem@latest
- Unity NavMesh: https://docs.unity3d.com/Manual/nav-NavigationSystem.html
- DOTween: http://dotween.demigiant.com/documentation.php

## üîÑ Workflow

### –ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏:

1. –°–æ–∑–¥–∞–π –Ω–æ–≤—ã–π –∫–ª–∞—Å—Å –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–π –ø–∞–ø–∫–µ
2. –°–ª–µ–¥—É–π —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º –ø–∞—Ç—Ç–µ—Ä–Ω–∞–º –∏ —Å—Ç–∏–ª—é –∫–æ–¥–∞
3. –û–±–Ω–æ–≤–∏ `README.md` –µ—Å–ª–∏ –¥–æ–±–∞–≤–ª—è–µ—à—å –Ω–æ–≤—É—é —Å–∏—Å—Ç–µ–º—É
4. –î–æ–±–∞–≤—å XML-–∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –¥–ª—è –ø—É–±–ª–∏—á–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### –ü—Ä–∏ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–µ:

1. –°–æ—Ö—Ä–∞–Ω—è–π –æ–±—Ä–∞—Ç–Ω—É—é —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å –ø—Ä–µ—Ñ–∞–±–∞–º–∏
2. –ù–µ –º–µ–Ω—è–π –∏–º–µ–Ω–∞ —Å–µ—Ä–∏–∞–ª–∏–∑—É–µ–º—ã—Ö –ø–æ–ª–µ–π (Unity –ø–æ—Ç–µ—Ä—è–µ—Ç —Å—Å—ã–ª–∫–∏)
3. –ï—Å–ª–∏ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å, –∏—Å–ø–æ–ª—å–∑—É–π `[FormerlySerializedAs]`

### –ü—Ä–∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:

1. –ö—ç—à–∏—Ä—É–π —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (Camera.main –≤ Start)
2. –ò—Å–ø–æ–ª—å–∑—É–π `sqrMagnitude` –≤–º–µ—Å—Ç–æ `magnitude`
3. –ú–∏–Ω–∏–º–∏–∑–∏—Ä—É–π –≤—ã–∑–æ–≤—ã GetComponent –≤ Update/LateUpdate
4. –ò—Å–ø–æ–ª—å–∑—É–π object pooling –¥–ª—è —á–∞—Å—Ç–æ —Å–æ–∑–¥–∞–≤–∞–µ–º—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤

## üé® –°—Ç–∏–ª—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤

- –ò—Å–ø–æ–ª—å–∑—É–π `//` –¥–ª—è –∫–æ—Ä–æ—Ç–∫–∏—Ö –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤
- –ì—Ä—É–ø–ø–∏—Ä—É–π –∫–æ–¥ –ø–æ —Å–µ–∫—Ü–∏—è–º —Å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º–∏ (–Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
- –ù–µ –∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π –æ—á–µ–≤–∏–¥–Ω—ã–π –∫–æ–¥
- –ö–æ–º–º–µ–Ω—Ç–∏—Ä—É–π —Å–ª–æ–∂–Ω—É—é –º–∞—Ç–µ–º–∞—Ç–∏–∫—É –∏ –∞–ª–≥–æ—Ä–∏—Ç–º—ã
- –ò—Å–ø–æ–ª—å–∑—É–π TODO –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –¥–ª—è –±—É–¥—É—â–∏—Ö —É–ª—É—á—à–µ–Ω–∏–π

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

–ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –Ω–æ–≤–æ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞:

1. **Player-related:** ‚Üí `Assets/Scripts/Players/`
2. **Camera-related:** ‚Üí `Assets/Scripts/Cameras/`
3. **UI/Markers:** ‚Üí `Assets/Scripts/Markers/`
4. **Configuration:** ‚Üí —Å–æ–∑–¥–∞–π ScriptableObject –≤ `Assets/Data/`
5. **New system:** ‚Üí —Å–æ–∑–¥–∞–π –Ω–æ–≤—É—é –ø–∞–ø–∫—É –≤ `Assets/Scripts/[SystemName]/`

–í—Å–µ–≥–¥–∞ —Å–ª–µ–¥—É–π –ø—Ä–∏–Ω—Ü–∏–ø—É: **–æ–¥–∏–Ω –∫–ª–∞—Å—Å - –æ–¥–Ω–∞ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å, —è–≤–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏, —Å–æ–±—ã—Ç–∏—è –¥–ª—è —Å–≤—è–∑–∏.**
